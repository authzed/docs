import { Tabs } from "nextra/components";

# Official Client Libraries

SpiceDB is primarily accessed by a [gRPC] API and thus client libraries can be generated for any programming language.

AuthZed builds and maintains gRPC client libraries for the following languages:

- [Go](https://github.com/authzed/authzed-go)
- [Node](https://github.com/authzed/authzed-node)
- [Python](https://github.com/authzed/authzed-py)
- [Ruby](https://github.com/authzed/authzed-rb)
- [Java](https://github.com/authzed/authzed-java)
- [.NET](https://github.com/authzed/authzed-dotnet)

Because the above libraries are generated from protobuf definitions in our [API repo],
the primary documentation for the gRPC API is in the [buf documentation] for SpiceDB's services.
The gRPC client documentation associated with each host language will also be helpful for putting together invocations.
Additionally, there are `example` directories in the client libraries that provide example usages.

## Local Development

When developing locally, you'll need to configure your client based on how SpiceDB is running.

### SpiceDB running without TLS (most common)

If SpiceDB is started without TLS, use insecure plaintext credentials:

<Tabs items={["Node", "Go", "Python", "Ruby", "Java", ".NET"]}>
  <Tabs.Tab>`v1.ClientSecurity.INSECURE_PLAINTEXT_CREDENTIALS`</Tabs.Tab>
  <Tabs.Tab>
    `grpcutil.WithInsecureBearerToken()` and
    `grpc.WithTransportCredentials(insecure.NewCredentials())`
  </Tabs.Tab>
  <Tabs.Tab>`insecure_bearer_token_credentials()`</Tabs.Tab>
  <Tabs.Tab>`credentials: :this_channel_is_insecure`</Tabs.Tab>
  <Tabs.Tab>`.usePlaintext()`</Tabs.Tab>
  <Tabs.Tab>
    `ChannelCredentials.Insecure` with `UnsafeUseInsecureChannelCallCredentials
    = true` (also requires
    `AppContext.SetSwitch("System.Net.Http.SocketsHttpHandler.Http2UnencryptedSupport",
    true)`)
  </Tabs.Tab>
</Tabs>

This applies to localhost, Docker, OrbStack, and other local environments running without TLS.

### SpiceDB running with TLS using self-signed certificates

If SpiceDB is running with TLS but using a self-signed or untrusted certificate:

<Tabs items={['Node', 'Go']}>
    <Tabs.Tab>
        `v1.ClientSecurity.INSECURE_LOCALHOST_ALLOWED` (allows localhost connections without CA verification)
    </Tabs.Tab>
    <Tabs.Tab>
        Load the self-signed CA explicitly with `grpcutil.WithCustomCerts()` or use `grpc.WithTransportCredentials(credentials.NewTLS(&tls.Config{InsecureSkipVerify: true}))` for localhost only (not recommended for production)
    </Tabs.Tab>
</Tabs>

See the [Protecting a Blog Application](./protecting-a-blog#checking-permissions) tutorial for examples.

## HTTP Clients

SpiceDB exposes an HTTP API when run with the `--http-enabled` flag.
While Authzed doesn't officially maintain HTTP client libraries, there are [OpenAPI] docs available [here](../api/http-api) and served by a SpiceDB instance running the HTTP server.

Try it out:

```sh
docker run --rm -p 50051:50051 -p 8443:8443 authzed/spicedb serve --http-enabled --grpc-preshared-key foobar

curl localhost:8443/openapi.json
```

The OpenAPI JSON can then be converted into a client using a tool like [openapi-ts] or [openapi-python-client].

## Other Clients

AuthZed also develops [zed], a command-line client for interacting with the SpiceDB API.

You can find more languages and integrations maintained by the community in the [Clients section] of the [Awesome SpiceDB] repository.

[grpc]: https://grpc.io
[zed]: https://github.com/authzed/zed
[clients section]: https://github.com/authzed/awesome-spicedb#clients
[awesome spicedb]: https://github.com/authzed/awesome-spicedb
[api repo]: https://github.com/authzed/api
[buf documentation]: https://buf.build/authzed/api/docs/main:authzed.api.v1
[openapi]: https://www.openapis.org/
[openapi-ts]: https://github.com/hey-api/openapi-ts
[openapi-python-client]: https://github.com/openapi-generators/openapi-python-client
